[gd_scene load_steps=20 format=3 uid="uid://bsvcsug2emh60"]

[ext_resource type="Sky" uid="uid://ble1xcqnre6ho" path="res://Assets/Skybox/NightSky.tres" id="1_qsjrb"]
[ext_resource type="PackedScene" uid="uid://dlk3re05kefyw" path="res://Assets/Particles/Snowfall.tscn" id="3_ytmxh"]
[ext_resource type="PackedScene" uid="uid://bw0i4ae03id06" path="res://Nodes/Debug/Logging/DebugLog.tscn" id="4_0f5h7"]
[ext_resource type="PackedScene" uid="uid://dsk41q2rvkrai" path="res://Nodes/Player/PlayerCharacter.tscn" id="4_iufkg"]
[ext_resource type="PackedScene" uid="uid://f7a4itxgeb4k" path="res://Assets/Models/Environments/mansion.tscn" id="5_0f5h7"]
[ext_resource type="PackedScene" uid="uid://08e4tfmy8v50" path="res://Nodes/UI/Inventory/Inventory.tscn" id="7_6xh1p"]
[ext_resource type="PackedScene" uid="uid://bhjeu6bj48qky" path="res://Assets/Models/Entities/SingleDoor/SingleDoor.tscn" id="7_c264a"]
[ext_resource type="PackedScene" uid="uid://41cmrwq60ve6" path="res://Assets/Models/Entities/DoubleDoor/DoubleDoor.tscn" id="7_ytmxh"]
[ext_resource type="PackedScene" uid="uid://ccglv7aoo0nlw" path="res://Assets/Models/Entities/ItemBox/ItemBox.tscn" id="8_6xh1p"]
[ext_resource type="PackedScene" uid="uid://c1sxxkcovj6rq" path="res://Nodes/Entities/Volumes/WaterVolume/WaterVolume.tscn" id="10_201fe"]
[ext_resource type="Texture2D" uid="uid://iq2n6gvgwbt3" path="res://Assets/2D/Inventory/Head/3DGlasses.png" id="10_ytmxh"]
[ext_resource type="PackedScene" uid="uid://t622wlat3n41" path="res://Nodes/Entities/Volumes/IceVolume/IceVolume.tscn" id="11_xjl2p"]

[sub_resource type="Environment" id="Environment_c264a"]
background_mode = 2
background_energy_multiplier = 0.03
sky = ExtResource("1_qsjrb")
ambient_light_color = Color(1, 1, 1, 1)
ambient_light_energy = 0.0
tonemap_mode = 2
glow_enabled = true

[sub_resource type="BoxShape3D" id="BoxShape3D_xjl2p"]
size = Vector3(17, 10, 47)

[sub_resource type="PlaneMesh" id="PlaneMesh_xjl2p"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_201fe"]
transparency = 1
shading_mode = 0
albedo_color = Color(0.17280002, 0.4372799, 0.72, 0.39607844)

[sub_resource type="BoxShape3D" id="BoxShape3D_201fe"]
size = Vector3(16, 4, 38)

[sub_resource type="BoxShape3D" id="BoxShape3D_hctok"]
size = Vector3(8, 2, 18)

[sub_resource type="BoxShape3D" id="BoxShape3D_ytmxh"]
size = Vector3(4, 3, 0.5)

[node name="Root" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_c264a")

[node name="PlayerCharacter" parent="." instance=ExtResource("4_iufkg")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 22.572, 7, -5)
collision_mask = 263
floor_constant_speed = true
floor_max_angle = 1.3089969
floor_snap_length = 0.2

[node name="OmniLight3D" type="OmniLight3D" parent="PlayerCharacter"]
light_color = Color(1, 0.88666666, 0.83, 1)
light_energy = 3.0
omni_range = 14.0
omni_attenuation = 2.0

[node name="Snowfall" parent="PlayerCharacter" instance=ExtResource("3_ytmxh")]
transform = Transform3D(1, 0, 0, 0, 0.9999965, -0.0026528975, 0, 0.0026528975, 0.9999965, 0, 1, 0)
visibility_aabb = AABB(-30.324068, -1.5484649, -28.909891, 57.440937, 12.82168, 56.40091)

[node name="DebugLog" parent="." instance=ExtResource("4_0f5h7")]

[node name="Mansion" parent="." instance=ExtResource("5_0f5h7")]

[node name="OmniLight3D" type="OmniLight3D" parent="Mansion"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -18, 3, -76)
omni_range = 69.556

[node name="OmniLight3D2" type="OmniLight3D" parent="Mansion"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 24, 5, -19)
light_color = Color(1, 0.7593334, 0.62, 1)
light_energy = 0.5
omni_range = 4096.0
omni_attenuation = 0.725

[node name="Doors" type="Node" parent="."]

[node name="PBClosetDoor" parent="Doors" instance=ExtResource("7_c264a")]
transform = Transform3D(1.3113416e-07, 0, -1, 0, 1, 0, 1, 0, 1.3113416e-07, -25, 6, -10.799996)

[node name="PBBathroomDoor" parent="Doors" instance=ExtResource("7_c264a")]
transform = Transform3D(1.3113416e-07, 0, -1, 0, 1, 0, 1, 0, 1.3113416e-07, -25, 6, -18.799995)
requiredItem = 1

[node name="SideHallDoor" parent="Doors" instance=ExtResource("7_c264a")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 10.8, 0, 0.55)

[node name="OfficeDoor" parent="Doors" instance=ExtResource("7_c264a")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.2, 6, -5)

[node name="LibraryDoor" parent="Doors" instance=ExtResource("7_c264a")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.2, 0, -19.45)
requiredItem = 2

[node name="DoubleDoor" parent="Doors" instance=ExtResource("7_ytmxh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.5, 0, 0)

[node name="Inventory" parent="." instance=ExtResource("7_6xh1p")]
visible = false

[node name="TestItemBox" parent="." instance=ExtResource("8_6xh1p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 19, 0, -36)
Item = 2
Icon = ExtResource("10_ytmxh")

[node name="WaterVolume" parent="." node_paths=PackedStringArray("Volume") instance=ExtResource("10_201fe")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -20, 0, -71)
Volume = NodePath("WaterShape")
DesiredHeight = Vector3(0, -0.1, 0)

[node name="WaterShape" type="CollisionShape3D" parent="WaterVolume"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, -5.3, 0)
shape = SubResource("BoxShape3D_xjl2p")

[node name="MeshInstance3D" type="MeshInstance3D" parent="WaterVolume"]
transform = Transform3D(12, 0, 0, 0, 12, 0, 0, 0, 30, 0, -0.3, -3)
mesh = SubResource("PlaneMesh_xjl2p")
surface_material_override/0 = SubResource("StandardMaterial3D_201fe")

[node name="StaticBody3D" type="StaticBody3D" parent="WaterVolume"]
collision_layer = 256

[node name="CollisionShape3D" type="CollisionShape3D" parent="WaterVolume/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 4)
shape = SubResource("BoxShape3D_201fe")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="WaterVolume/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, -24)
shape = SubResource("BoxShape3D_hctok")

[node name="ForwardGardenIce" parent="." node_paths=PackedStringArray("Destination") instance=ExtResource("11_xjl2p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 27, 0, -32)
Destination = NodePath("Destination")

[node name="CollisionShape3D" type="CollisionShape3D" parent="ForwardGardenIce"]
shape = SubResource("BoxShape3D_ytmxh")

[node name="Destination" type="Node3D" parent="ForwardGardenIce"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -9)

[node name="BackGardenIce" parent="." node_paths=PackedStringArray("Destination") instance=ExtResource("11_xjl2p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 27, 0, -39)
Destination = NodePath("Destination")

[node name="CollisionShape3D" type="CollisionShape3D" parent="BackGardenIce"]
shape = SubResource("BoxShape3D_ytmxh")

[node name="Destination" type="Node3D" parent="BackGardenIce"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 8)

[node name="ParticleColliders" type="Node3D" parent="."]

[node name="GPUParticlesCollisionBox3D" type="GPUParticlesCollisionBox3D" parent="ParticleColliders"]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, -0.75878924, 3, 3.1577148)
size = Vector3(40.56836, 6, 13.68457)

[node name="GPUParticlesCollisionBox3D2" type="GPUParticlesCollisionBox3D" parent="ParticleColliders"]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, -7.802002, 6, -36.5)
size = Vector3(52.395996, 12, 69)

[node name="GPUParticlesCollisionBox3D3" type="GPUParticlesCollisionBox3D" parent="ParticleColliders"]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 26.500002, 6, -56.5)
size = Vector3(21, 12, 29)

[node name="GPUParticlesCollisionBox3D6" type="GPUParticlesCollisionBox3D" parent="ParticleColliders"]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, -20, 6, -87.75)
size = Vector3(28, 12, 33.5)

[node name="GPUParticlesCollisionBox3D4" type="GPUParticlesCollisionBox3D" parent="ParticleColliders"]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 27.000002, 6, -8)
size = Vector3(20, 12, 44)

[node name="GPUParticlesCollisionBox3D5" type="GPUParticlesCollisionBox3D" parent="ParticleColliders"]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, -24.999998, 6, -8)
size = Vector3(18, 12, 44)

[node name="GPUParticlesCollisionBox3D7" type="GPUParticlesCollisionBox3D" parent="ParticleColliders"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, -50)
size = Vector3(200, 2, 200)
