[gd_scene load_steps=11 format=3 uid="uid://bsvcsug2emh60"]

[ext_resource type="Sky" uid="uid://ble1xcqnre6ho" path="res://Assets/Skybox/NightSky.tres" id="1_qsjrb"]
[ext_resource type="PackedScene" uid="uid://c7ppsx32tqpyq" path="res://Assets/Models/Environments/TestHouse.tscn" id="2_8k7wh"]
[ext_resource type="PackedScene" uid="uid://bw0i4ae03id06" path="res://Nodes/Debug/Logging/DebugLog.tscn" id="4_0f5h7"]
[ext_resource type="PackedScene" uid="uid://dsk41q2rvkrai" path="res://Nodes/Player/PlayerCharacter.tscn" id="4_iufkg"]
[ext_resource type="PackedScene" uid="uid://f7a4itxgeb4k" path="res://Assets/Models/Environments/mansion.tscn" id="5_0f5h7"]
[ext_resource type="PackedScene" uid="uid://08e4tfmy8v50" path="res://Nodes/UI/Inventory/Inventory.tscn" id="7_6xh1p"]
[ext_resource type="PackedScene" uid="uid://bhjeu6bj48qky" path="res://Assets/Models/Entities/SingleDoor/SingleDoor.tscn" id="7_c264a"]
[ext_resource type="PackedScene" uid="uid://ccglv7aoo0nlw" path="res://Assets/Models/Entities/ItemBox/ItemBox.tscn" id="8_6xh1p"]
[ext_resource type="Texture2D" uid="uid://pl11cc0pnw3n" path="res://Assets/2D/Inventory/Keys/SaphKey.png" id="9_5rbs6"]

[sub_resource type="Environment" id="Environment_c264a"]
background_mode = 2
background_energy_multiplier = 0.03
sky = ExtResource("1_qsjrb")
ambient_light_color = Color(1, 1, 1, 1)
ambient_light_energy = 0.0
tonemap_mode = 2
glow_enabled = true

[node name="Root" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_c264a")

[node name="PlayerCharacter" parent="." instance=ExtResource("4_iufkg")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 8.305522, 1, -0.75655866)
floor_constant_speed = true
floor_max_angle = 1.3089969
floor_snap_length = 0.2

[node name="OmniLight3D" type="OmniLight3D" parent="PlayerCharacter"]
light_color = Color(1, 0.88666666, 0.83, 1)
light_energy = 3.0
omni_range = 14.0
omni_attenuation = 2.0

[node name="TestHouse" parent="." instance=ExtResource("2_8k7wh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 491.03073, 0, 0)

[node name="OmniLight3D" type="OmniLight3D" parent="TestHouse"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.5, 3, 3)
light_energy = 5.0
light_volumetric_fog_energy = 0.0
light_bake_mode = 1
omni_attenuation = 2.0

[node name="OmniLight3D2" type="OmniLight3D" parent="TestHouse"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.5, 3, 9)
light_energy = 5.0
light_volumetric_fog_energy = 0.0
light_bake_mode = 1
omni_attenuation = 2.0

[node name="SpotLight3D" type="SpotLight3D" parent="TestHouse"]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, 1, 0, -1, -4.371139e-08, 0, 7, 0)
light_energy = 16.0
spot_range = 20.0
spot_angle = 50.0
spot_angle_attenuation = 0.7071071

[node name="SpotLight3D2" type="SpotLight3D" parent="TestHouse"]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, 1, 0, -1, -4.371139e-08, -19, 8, 5)
light_color = Color(0, 1, 1, 1)
light_energy = 3.969
light_bake_mode = 1
spot_range = 14.193
spot_attenuation = 0.48
spot_angle = 18.09
spot_angle_attenuation = 0.20306318

[node name="MainHallLights" type="Node3D" parent="TestHouse"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -491, 0, 0)

[node name="OmniLight3D" type="OmniLight3D" parent="TestHouse/MainHallLights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, 0)
light_color = Color(1, 0.8351667, 0.57, 1)
omni_range = 20.0
omni_attenuation = 0.7

[node name="OmniLight3D2" type="OmniLight3D" parent="TestHouse/MainHallLights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 2, 9)
light_color = Color(1, 0.8351667, 0.57, 1)
light_energy = 0.5
omni_range = 10.0
omni_attenuation = 0.7

[node name="OmniLight3D3" type="OmniLight3D" parent="TestHouse/MainHallLights"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 2, 9)
light_color = Color(1, 0.8351667, 0.57, 1)
light_energy = 0.5
omni_range = 10.0
omni_attenuation = 0.7

[node name="DebugLog" parent="." instance=ExtResource("4_0f5h7")]
visible = false
offset_left = -1.0

[node name="Mansion" parent="." instance=ExtResource("5_0f5h7")]

[node name="Doors" type="Node" parent="."]

[node name="PBClosetDoor" parent="Doors" instance=ExtResource("7_c264a")]
transform = Transform3D(1.3113416e-07, 0, -1, 0, 1, 0, 1, 0, 1.3113416e-07, -25, 8, -10.799996)

[node name="PBBathroomDoor" parent="Doors" instance=ExtResource("7_c264a")]
transform = Transform3D(1.3113416e-07, 0, -1, 0, 1, 0, 1, 0, 1.3113416e-07, -25, 8, -18.799995)
requiredItem = 1

[node name="SideHallDoor" parent="Doors" instance=ExtResource("7_c264a")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 10.8, 0, 1)

[node name="OfficeDoor" parent="Doors" instance=ExtResource("7_c264a")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.2, 8, -5)

[node name="LibraryDoor" parent="Doors" instance=ExtResource("7_c264a")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.199999, 0, -19)
requiredItem = 1

[node name="Inventory" parent="." instance=ExtResource("7_6xh1p")]

[node name="TestItemBox" parent="." instance=ExtResource("8_6xh1p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7, 0, -3)
Icon = ExtResource("9_5rbs6")
